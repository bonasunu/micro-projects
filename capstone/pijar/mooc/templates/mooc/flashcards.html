{% extends 'mooc/base.html' %}

{% block title %}
Flashcards
{% endblock %}

{% block body %}
<section class="section">
    <div class="container">
        <h1 class="title">Flashcards</h1>
        <div class="buttons">
            <a href="{% url 'learn' %}" class="button is-dark"><strong>back to Categories</strong></a>
        </div>
        

        <!-- # TODO add JSONmethod for random pick card feature

        {% for item in cards %}
            {% if item.card_category.user == user and item.card_category.category == card_category %}
                <p>{{ item.card_question }}</p>
            {% endif %}
        {% endfor %}

        -->
        
        {% for item in cards %}
            {% if item.card_category.user == user and item.card_category.category == card_category %}
                <div class="box">
                    <div class="card-content">
                        <p class="subtitle has-text-centered">
                            {{ item.card_question }}
                        </p>
                    </div>
                    <footer class="card-footer">
                        <a class="card-footer-item">Show answer</a>
                    </footer>
                </div>
                <div class="modal">
                    <div class="modal-background"></div>
                    <div class="modal-content">
                        <div class="box">
                            <div class="media-content has-text-centered">
                                {{ item.card_answer }}
                            </div>
                        </div>
                    </div>
                    <button class="modal-close is-large" aria-label="close"></button>
                </div>
            {% endif %}
        {% endfor %}

    </div>
    <script>
        document.querySelectorAll('.card-footer-item').forEach(function(button) {
            button.onclick = function() {
                document.querySelector('.modal').className = 'modal is-active';
            };
        });

        document.querySelector('.modal-close is-large').onclick = () => {
            document.querySelector('.modal is-active').className = 'modal';
        };
    </script>
</section>
{% endblock %}